// @import "button_mixins";

// =========================================================================
//  CORE BUTTON CLASS STRUCTURE
// =========================================================================
.btn,
button,
input[type="button"] {
  @include box-sizing (border-box);
  outline: none;
  display: inline-block;
  vertical-align: baseline;
  text-align: center;

  @include breakpoint($breakpoint-desktop)  { padding: 0.45rem $qtr3; }
  @include breakpoint($breakpoint-portable) { padding: 0.95rem 1.15rem; }
  @include breakpoint($breakpoint-palm)     { padding: 0.9rem $qtr4; }
}

.btn {
  @include border-radius (2px);
  // @include box-shadow (inset 0 -3px 0 rgba($black, 0.2));
  border: none;
  background: none;
  text-shadow: none;
  line-height: $qtr4;

  &:active { @include box-shadow (inset 0 3px 0 rgba($black, 0.2)); }

  @include breakpoint($breakpoint-desktop) {
    font-size: $qtr4;
  }
  @include breakpoint($breakpoint-portable-and-palm) {
    font-size: 1.15rem;

    span { display: none; }
  }

  span { font-size: inherit; }

  // Font Awesome styles
  .fa {
    font-size:      inherit;
    text-shadow:    inherit;
    line-height:    inherit;
    vertical-align: baseline;
  }


  // =========================================================================
  //  FUNCTIONALITY, MIXIN & COLORS
  // =========================================================================
  // Hover:   Button color will darken.
  // Active:  Button color will darken slightly more
  //          and shadow will go from bottom to top
  //          to simulate depression.
  // =========================================================================

  // MIXIN & FUNCTIONALITY
  //
  $lgt-text: $light-gray;
  $drk-text: $dark-gray;
  @mixin button-actions($bgcolor) {
    background-color: $bgcolor;
    @include breakpoint($breakpoint-desktop) {
      &:hover  { background-color: darken($bgcolor, 2.5); }
    }
    &:active { background-color: darken($bgcolor, 5);   }
  }

  // COLOR
  //
  &.blue-btn    { color: $lgt-text; @include button-actions($pt-blue); }    // #0A76BE
  &.dk-blue-btn { color: $lgt-text; @include button-actions($dark-blue); }  // #1B2F3C
  &.green-btn   { color: $lgt-text; @include button-actions($green); }      // #8cc63e
  &.red-btn     { color: $lgt-text; @include button-actions($red); }        // #BA0E0E
  &.gray-btn    { color: $drk-text; @include button-actions($gray); }       // #CCCCCC
  &.white-btn   { color: $drk-text; @include button-actions($off-white); }  // #F8F8F8
  &.clear-btn   {

    // @include box-shadow(inset 0 0 0 1px $gray);
    // background: none;
    color: rgba($black, 0.5);

    @include breakpoint($breakpoint-desktop) {
      &:hover {
        @include box-shadow(inset 0 0 0 1px $gray);
        background-color: $white;
      }
    }
    @include breakpoint($breakpoint-portable-and-palm) {
      // default to hover state on mobile
      @include box-shadow(inset 0 0 0 1px $gray);
      background-color: $white;
    }

    &:active {
      @include box-shadow(inset 0 0 0 1px $gray, inset 0 3px 0 $gray);
      background-color: $white;
    }
  }


  // =========================================================================
  //  Unique classes custom layout
  // =========================================================================
  //  To make adjustments that don't affect other buttons, make changes
  //  in the specific class below.
  // =========================================================================
  &.add-value-button {
    @include breakpoint($breakpoint-palm) {
      display: block;
    }
  }

  &.datatable-add { margin-right: 0; }

  // &.datatable-add-ifs-path { }
  // &.datatable-add-location-object-rule { }
  // &.datatable-add-location-rule { }
  // &.datatable-add-native-object { }
  // &.datatable-add-user-object-rule { }
  // &.datatable-add-user-rule { }
  // &.cancel-button { }

  &.help-btn {
    border: none !important;

    @include breakpoint($breakpoint-desktop) {
      &, &:hover {
        @include box-shadow(none);
      }
    }

    &:active {
      @include box-shadow(inset 0 3px 0 $gray);
    }
  }

  // &.help-link { }
  &.login-button {
    position: relative;
    margin-bottom: 2rem;

    padding-top: 1rem;
    padding-bottom: 1rem;

    @include breakpoint($breakpoint-palm) {
      padding: 1.5rem 1.15rem;
    }
  }
  // &.memorized-button { }
  // &.memorize-location { }
  // &.memorize-user { }

  &.navigation-button {
    float: left;
    margin-right: $qtr4;
    border: none !important;

    @include breakpoint($breakpoint-desktop) {
      &, &:hover {
        @include box-shadow(none);
      }
    }

    &:active {
      @include box-shadow(inset 0 3px 0 $gray);
    }
  }

  // &.pop-add-btn { }
  // &.pop-cancel-btn { }
  // &.pop-continue-btn { }
  // &.pop-delete-btn { }
  // &.pop-select-btn { }

  // &.refresh-button { }

  &.remove-value-button {
    display: block;
    overflow: hidden;

    @include breakpoint($breakpoint-desktop) {
      &:hover { color: $red; }
    }
    @include breakpoint($breakpoint-portable) {
      color: $red;
    }
    @include breakpoint($breakpoint-palm) {
      padding: 0.8rem 0;
      color: $red;
    }
  }

  // &.save-button { }

  &.select-button {
    @include breakpoint($breakpoint-desktop-and-portable) {
      padding-left: 0;
      padding-right: 0;
    }
  }
  &.sort-button {
    position: relative;
    outline: none;
    @include breakpoint($breakpoint-desktop) { padding-right: 1rem; }
    @include breakpoint($breakpoint-portable-and-palm) { padding-right: 1.75rem !important; }
  }
}


// =========================================================================
//                            Button Dropdown
// =========================================================================
// Used with Rules and Objects 'Add' button, but can be applied anywhere.
// See network_security/app/rules/templates/rules_header.html for structure
// =========================================================================
.button-with-dropdown {
  display: inline-block;
  position: relative;
  z-index: 99;

  &.dropdown-left {
    margin-left: 0;

    .dropdown {
      text-align: left;

      li:first-child a {
        @include border-top-left-radius(0);
      }
    }
  }

  &.dropdown-right {
    margin-right: 0;

    .dropdown {
      text-align: right;

      li:first-child a {
        @include border-top-right-radius(0);
      }
    }
  }

  &.dropdown-hide {
    &.dropdown-right {
      .dropdown { right: -999rem; }
    }
    &.dropdown-left {
      .dropdown { left: -999rem; }
    }
  }

  &.dropdown-show {
    &.dropdown-right {
      .dropdown { right: 0; }
    }
    &.dropdown-left {
      .dropdown { left: 0; }
    }


    > .btn {
      @include border-bottom-right-radius(0);
      @include border-bottom-left-radius(0);
      @include box-shadow(inset 0 -1px 0 rgba($black, 0.1)); // bottom border

      &:hover, &:active {
        cursor: default;
      }
    }
  }

  .dropdown {
    min-width: $qtr4;
    position: absolute;

    ul, li, a {
      width: 100%;
      text-align: inherit;
    }

    ul, li {
      margin: 0;
    }

    li {

      &:first-child a {
        @include border-bottom-left-radius(0);
        @include border-bottom-right-radius(0);
      }
      &:last-child a {
        @include border-top-left-radius(0);
        @include border-top-right-radius(0);
      }

      a {
        @include box-shadow(inset 0 -1px 0 rgba($black, 0.2)); // bottom border
        white-space: nowrap;

        @include breakpoint($breakpoint-portable-and-palm) {
          padding: 1.25rem;
        }

        &:active {
          @include box-shadow(inset 0 -1px 0 rgba($black, 0.2), inset 0 3px 0 0 rgba($black, 0.2));
        }
      }
    }
  }
}
